---
import BaseLayout from '@/layouts/BaseLayout.astro';
import ResponsivePicture from '@/components/ResponsivePicture.astro';
import aboutImage from '@/images/about_image_mark.jpg';
import { useTranslations, getLangFromUrl  } from '@/i18n/utils';

export const prerender = true;

export function getStaticPaths() {
  return [
    { params: { lang: undefined}}, // Default language
    { params: { lang: 'en' } },
    { params: { lang: 'ru' } },
  ];
}

const lang = getLangFromUrl(Astro.url) || 'he';
const t = useTranslations(lang);
---
<BaseLayout
  title={t('about.title')}
  description={t('about.intro')}
  image={aboutImage.src}
  alt={t('about.title')}
  lang={lang}
>

  <main class="page-active">
  <div class="container about-page">
    <header class="section about-header two-column">
      <div >
      <h1 class="section-title">{t('about.title')}</h1>
      <p>
        {t('about.intro')}
      </p>
      
      <div class="content-sections">
        
        <section class="section ">
          <h3 class="section-title">{t('about.specializations.title')}</h3>
          <div class="specializations feature-box">
            <ul>
              <li><strong>{t('about.specializations.limb_lengthening.title')}</strong><br>
                <span class="text">{t('about.specializations.limb_lengthening.description')}</span></li>
              <li><strong>{t('about.specializations.clubfoot.title')}</strong><br>
                  <span class="text">{t('about.specializations.clubfoot.description')}</span></li>
              <li><strong>{t('about.specializations.pelvic.title')}</strong><br>
                    <span class="text">{t('about.specializations.pelvic.description')}</span></li>
              <li><strong>{t('about.specializations.trauma.title')}</strong><br>
                      <span class="text">{t('about.specializations.trauma.description')}</span></li>
            </ul>
          </div>
        </section>
        </div>
      </div>
      <ResponsivePicture
        src={aboutImage}
        alt="Prof. Mark Eidelman"
        widths={[200, 350, 500]}
        sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 800px"
        formats={['avif', 'webp']}
        loading="eager"
        quality={85}
        class="about-profile-image"
      />
    </header>
<hr>
    
  </div>

</main>
</BaseLayout>

<style>
.section {
  background: var(--white);
  padding-block: 24px 16px;
  padding-inline: 32px 72px;
  border-radius: 0;
  box-shadow: none;
}

.section-title {
  font-size: 1.8rem;
  color: var(--primary);
  margin-bottom: 20px;
  padding-bottom: 0;
  border-bottom: none;
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  letter-spacing: -0.4px;
}

.section-subtitle {
  font-size: 1rem;
  color: var(--text-light);
  line-height: 1.7;
  max-width: 70ch;
}

.section p {
  font-size: 0.95rem;
  color: var(--text-sub-dark);
  line-height: 1.8;
  max-width: 70ch;
  margin-bottom: 16px;
}

.section ul {
  max-width: 50ch;
  color: var(--text-sub-dark);
  padding-inline-start: 1.2rem;
}

.expertise {
  margin-top: 2rem;
}

.specializations {
  display: flex;
}

.about-profile-image {
  margin-inline-start: 2rem;
}

@media (max-width: 768px) {
  .section {
    background: var(--white);
    padding: 24px 36px;
    box-shadow: none;
  }

  .about-header {
    flex-direction: column;
    align-items: center;
  }

  .about-profile-image {
    margin-inline-end: 0;
    margin-top: 1rem;
  }

  .specializations {
    flex-direction: column;
  }

  .section li {
    margin-bottom: 0.5rem;
  }

}
</style>
