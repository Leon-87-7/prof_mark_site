---
//TODO: Refactor to use i18n utils for translations
// Footer component - static, no client-side interactivity needed
import PhoneCallDuotone from "phosphor-astro/PhoneCallDuotone.astro"
import { getPathPrefix, type Language ,useTranslations} from '../i18n/utils';

interface Props {
  lang: Language;
}

const { lang } = Astro.props;
const langPrefix = getPathPrefix(lang);

// Footer translations (inline for simplicity)


const t = useTranslations(lang);
---

<div class="footer">
  <div class="footer-container">
    <div class="footer-section links">
      <h5>{t('footer.quickLinks')}</h5>
      <a href={`${langPrefix}/`}>{t('footer.home')}</a>
      <a href={`${langPrefix}/clinics`}>{t('footer.clinics')}</a>
      <a href={`${langPrefix}/about`}>{t('footer.about')}</a>
      <a href={`${langPrefix}/innovation`}>{t('footer.innovation')}</a>
      <a href={`${langPrefix}/guides`}>{t('footer.guides')}</a>
      <a href={`${langPrefix}/services`}>{t('footer.services')}</a>
      <a href={`${langPrefix}/study`}>{t('footer.study')}</a>
    </div>
    <div class="footer-section contact">
      <h5>{t('footer.contact')}</h5>
      <div class="address">
        <ul> <span class="address-title">{t('footer.addresses')}</span>
          <li class={`${lang === 'he' ? 'address-rtl' : 'address-ltr'}`}>{t('footer.address1')}</li>
          <li class={`${lang === 'he' ? 'address-rtl' : 'address-ltr'}`}>{t('footer.address2')}</li>
        </ul>
      </div>
      <a
      href="tel:+97248732227"
      class={`phone-link ${lang === 'he' ? 'phone-link-rtl' : 'phone-link-ltr'}`}
      dir="ltr"
      >
      <span class="phone-icon">
      <PhoneCallDuotone width={16} color="var(--secondary)" />
      </span>
      <span class="phone-number">+972 (0)4 873-2227</span>
      </a>

    </div>
    <div class="footer-section info">
      <h5>{t('footer.info')}</h5>
      <div class="coming-soon" aria-disabled="true">
        {t('footer.privacy')} <em>{t('footer.comingSoon')}</em>
      </div>
      <div class="coming-soon" aria-disabled="true">
        {t('footer.terms')} <em>{t('footer.comingSoon')}</em>
      </div>
      <div class="coming-soon" aria-disabled="true">
        {t('footer.accessibility')} <em>{t('footer.comingSoon')}</em>
      </div>
      <a href={`${langPrefix}/sitemap`}>{t('footer.sitemap')}</a>
    </div>
  </div>
  <div class="footer-bottom">
    <p>
      {t('footer.copyright')}
    </p>
    <p dir="ltr">{t('footer.location')}  | +972 (0)4 873-2227</p>
  </div>
</div>

<style>
  /* ============ FOOTER ============ */
  .footer {
    background: var(--dark);
    color: #FFFFFF;
    padding: 48px 20px 32px;
    margin-top: 64px;
  }

  .footer-container {
    max-width: 1400px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 32px;
    justify-items: center;
  }
    .footer-container > .links {
      order: 1;
    }

    .footer-container > .contact {
      order: 2;
    }

    .footer-container > .info {
      order: 3;
  }

  .footer-section h5 {
    color: var(--accent);
    margin-bottom: 16px;
    font-size: 0.7rem;
    font-family: 'Montserrat', sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.8px;
  }

  .footer-section p,
  .footer-section a,
  .footer-section div {
    font-size: 0.75rem;
    color: #CCCCCC;
    margin: 8px 0;
    text-decoration: none;
    transition: color 0.3s ease;
    display: block;
    font-family: 'Lato', sans-serif;
  }

  .footer-section a:hover {
    color: var(--accent);
  }

  .info .coming-soon {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .info .coming-soon em {
    font-style: italic;
    font-size: 0.7rem;
    color: #888888;
  }

  .footer-bottom {
    text-align: center;
    padding-top: 32px;
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    margin-top: 32px;
    font-size: 0.65rem;
    color: #999999;
  }

  .address {
    margin: 0 !important;
  }
  .address-title {
    font-weight: bold;
    display: block;
  }

  .address-ltr {
    margin-left: 1.5rem;
  }

  .address-rtl {
    margin-right: 1.5rem;
  }
  /* Phone link with flexbox for icon positioning */
  .phone-link {
    display: inline-flex !important;
    align-items: center;
    gap: 6px;
    margin: 0 !important;
  }

  /* LTR: icon on the left (default order) */
  .phone-link-ltr {
    flex-direction: row;
  }

  /* RTL: icon on the right (reverse order) */
  .phone-link-rtl {
    flex-direction: row-reverse;
  }

  .phone-icon {
    display: inline-flex;
    align-items: center;
  }
  
  @media (max-width: 768px) {
    .footer-container {
      grid-template-columns: 1fr;
      text-align: center;
    }
    
    .footer-container > .links {
      order: 2;
    }
    .footer-container > .contact {
      order: 1;
    }
    .footer-container > .info {
      order: 3;
    }

    li {
      list-style: none;
    }
  }

</style>
